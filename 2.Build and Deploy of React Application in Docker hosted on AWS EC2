ubuntu@ip-172-31-21-226:~$ cat /etc/os-release
PRETTY_NAME="Ubuntu 24.04 LTS"
NAME="Ubuntu"
VERSION_ID="24.04"
VERSION="24.04 LTS (Noble Numbat)"
VERSION_CODENAME=noble
ID=ubuntu
ID_LIKE=debian
HOME_URL="https://www.ubuntu.com/"
SUPPORT_URL="https://help.ubuntu.com/"
BUG_REPORT_URL="https://bugs.launchpad.net/ubuntu/"
PRIVACY_POLICY_URL="https://www.ubuntu.com/legal/terms-and-policies/privacy-policy"
UBUNTU_CODENAME=noble
LOGO=ubuntu-logo
ubuntu@ip-172-31-21-226:~$ for pkg in docker.io docker-doc docker-compose docker-compose-v2 podman-docker containerd runc; do sudo apt-get remove $pkg; done
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
Package 'docker.io' is not installed, so not removed
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
E: Unable to locate package docker-doc
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
E: Unable to locate package docker-compose
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
E: Unable to locate package docker-compose-v2
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
E: Unable to locate package podman-docker
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
Package 'containerd' is not installed, so not removed
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
Package 'runc' is not installed, so not removed
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
ubuntu@ip-172-31-21-226:~$ # Add Docker's official GPG key:
sudo apt-get update
sudo apt-get install ca-certificates curl
sudo install -m 0755 -d /etc/apt/keyrings
sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc
sudo chmod a+r /etc/apt/keyrings/docker.asc

# Add the repository to Apt sources:
echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \
  $(. /etc/os-release && echo "$VERSION_CODENAME") stable" | \
  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
sudo apt-get update
Hit:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble InRelease
Get:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-updates InRelease [126 kB]
Get:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-backports InRelease [126 kB]
Get:4 http://security.ubuntu.com/ubuntu noble-security InRelease [126 kB]
Get:5 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble/universe amd64 Packages [15.0 MB]
Get:6 http://security.ubuntu.com/ubuntu noble-security/main amd64 Packages [294 kB]
Get:7 http://security.ubuntu.com/ubuntu noble-security/main Translation-en [67.8 kB]
Get:8 http://security.ubuntu.com/ubuntu noble-security/main amd64 c-n-f Metadata [3740 B]     
Get:9 http://security.ubuntu.com/ubuntu noble-security/universe amd64 Packages [250 kB]       
Get:10 http://security.ubuntu.com/ubuntu noble-security/universe Translation-en [108 kB]
Get:11 http://security.ubuntu.com/ubuntu noble-security/universe amd64 Components [8632 B]    
Get:12 http://security.ubuntu.com/ubuntu noble-security/universe amd64 c-n-f Metadata [9408 B]
Get:13 http://security.ubuntu.com/ubuntu noble-security/restricted amd64 Packages [245 kB]    
Get:14 http://security.ubuntu.com/ubuntu noble-security/restricted Translation-en [47.8 kB]   
Get:15 http://security.ubuntu.com/ubuntu noble-security/restricted amd64 c-n-f Metadata [420 B]
Get:16 http://security.ubuntu.com/ubuntu noble-security/multiverse amd64 Packages [10.6 kB]
Get:17 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble/universe Translation-en [5982 kB]
Get:18 http://security.ubuntu.com/ubuntu noble-security/multiverse Translation-en [2808 B]    
Get:19 http://security.ubuntu.com/ubuntu noble-security/multiverse amd64 Components [208 B]   
Get:20 http://security.ubuntu.com/ubuntu noble-security/multiverse amd64 c-n-f Metadata [344 B]
Get:21 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble/universe amd64 Components [3871 kB]
Get:22 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble/universe amd64 c-n-f Metadata [301 kB]
Get:23 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble/multiverse amd64 Packages [269 kB]
Get:24 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble/multiverse Translation-en [118 kB]
Get:25 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble/multiverse amd64 Components [35.0 kB]
Get:26 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble/multiverse amd64 c-n-f Metadata [8328 B]
Get:27 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-updates/main amd64 Packages [347 kB]
Get:28 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-updates/main Translation-en [87.6 kB]
Get:29 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-updates/main amd64 c-n-f Metadata [5744 B]
Get:30 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-updates/universe amd64 Packages [322 kB]
Get:31 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-updates/universe Translation-en [135 kB]
Get:32 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-updates/universe amd64 Components [45.0 kB]
Get:33 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-updates/universe amd64 c-n-f Metadata [12.8 kB]
Get:34 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-updates/restricted amd64 Packages [245 kB]
Get:35 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-updates/restricted Translation-en [47.8 kB]
Get:36 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-updates/restricted amd64 c-n-f Metadata [416 B]
Get:37 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-updates/multiverse amd64 Packages [14.1 kB]
Get:38 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-updates/multiverse Translation-en [3608 B]
Get:39 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-updates/multiverse amd64 Components [212 B]
Get:40 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-updates/multiverse amd64 c-n-f Metadata [532 B]
Get:41 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-backports/main amd64 Components [208 B]
Get:42 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-backports/main amd64 c-n-f Metadata [112 B]
Get:43 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-backports/universe amd64 Packages [10.3 kB]
Get:44 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-backports/universe Translation-en [10.5 kB]
Get:45 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-backports/universe amd64 Components [17.6 kB]
Get:46 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-backports/universe amd64 c-n-f Metadata [1016 B]
Get:47 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-backports/restricted amd64 Components [216 B]
Get:48 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-backports/restricted amd64 c-n-f Metadata [116 B]
Get:49 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-backports/multiverse amd64 Components [212 B]
Get:50 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-backports/multiverse amd64 c-n-f Metadata [116 B]
Fetched 28.4 MB in 6s (5061 kB/s)               
Reading package lists... Done
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
ca-certificates is already the newest version (20240203).
ca-certificates set to manually installed.
The following additional packages will be installed:
  libcurl3t64-gnutls libcurl4t64
The following packages will be upgraded:
  curl libcurl3t64-gnutls libcurl4t64
3 upgraded, 0 newly installed, 0 to remove and 50 not upgraded.
Need to get 900 kB of archives.
After this operation, 0 B of additional disk space will be used.
Do you want to continue? [Y/n] y
Get:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-updates/main amd64 curl amd64 8.5.0-2ubuntu10.2 [227 kB]
Get:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-updates/main amd64 libcurl4t64 amd64 8.5.0-2ubuntu10.2 [341 kB]
Get:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-updates/main amd64 libcurl3t64-gnutls amd64 8.5.0-2ubuntu10.2 [333 kB]
Fetched 900 kB in 0s (25.0 MB/s)            
(Reading database ... 67739 files and directories currently installed.)
Preparing to unpack .../curl_8.5.0-2ubuntu10.2_amd64.deb ...
Unpacking curl (8.5.0-2ubuntu10.2) over (8.5.0-2ubuntu10.1) ...
Preparing to unpack .../libcurl4t64_8.5.0-2ubuntu10.2_amd64.deb ...
Unpacking libcurl4t64:amd64 (8.5.0-2ubuntu10.2) over (8.5.0-2ubuntu10.1) ...
Preparing to unpack .../libcurl3t64-gnutls_8.5.0-2ubuntu10.2_amd64.deb ...
Unpacking libcurl3t64-gnutls:amd64 (8.5.0-2ubuntu10.2) over (8.5.0-2ubuntu10.1) ...
Setting up libcurl4t64:amd64 (8.5.0-2ubuntu10.2) ...
Setting up libcurl3t64-gnutls:amd64 (8.5.0-2ubuntu10.2) ...
Setting up curl (8.5.0-2ubuntu10.2) ...
Processing triggers for man-db (2.12.0-4build2) ...
Processing triggers for libc-bin (2.39-0ubuntu8.2) ...
Scanning processes...                                                                          
Scanning candidates...                                                                         
Scanning linux images...                                                                       

Running kernel seems to be up-to-date.

Restarting services...
 systemctl restart packagekit.service

No containers need to be restarted.

No user sessions are running outdated binaries.

No VM guests are running outdated hypervisor (qemu) binaries on this host.
Hit:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble InRelease
Hit:2 http://security.ubuntu.com/ubuntu noble-security InRelease
Hit:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-updates InRelease
Hit:4 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-backports InRelease
Get:5 https://download.docker.com/linux/ubuntu noble InRelease [48.8 kB]  
Get:6 https://download.docker.com/linux/ubuntu noble/stable amd64 Packages [12.4 kB]
Fetched 61.2 kB in 1s (81.2 kB/s)
Reading package lists... Done
ubuntu@ip-172-31-21-226:~$ sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following additional packages will be installed:
  docker-ce-rootless-extras libltdl7 libslirp0 pigz slirp4netns
Suggested packages:
  aufs-tools cgroupfs-mount | cgroup-lite
The following NEW packages will be installed:
  containerd.io docker-buildx-plugin docker-ce docker-ce-cli docker-ce-rootless-extras
  docker-compose-plugin libltdl7 libslirp0 pigz slirp4netns
0 upgraded, 10 newly installed, 0 to remove and 50 not upgraded.
Need to get 122 MB of archives.
After this operation, 437 MB of additional disk space will be used.
Do you want to continue? [Y/n] y
Get:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble/universe amd64 pigz amd64 2.8-1 [65.6 kB]
Get:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble/main amd64 libltdl7 amd64 2.4.7-7build1 [40.3 kB]
Get:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble/main amd64 libslirp0 amd64 4.7.0-1ubuntu3 [63.8 kB]
Get:4 https://download.docker.com/linux/ubuntu noble/stable amd64 containerd.io amd64 1.7.20-1 [30.5 MB]
Get:5 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble/universe amd64 slirp4netns amd64 1.2.1-1build2 [34.9 kB]
Get:6 https://download.docker.com/linux/ubuntu noble/stable amd64 docker-buildx-plugin amd64 0.16.2-1~ubuntu.24.04~noble [29.9 MB]
Get:7 https://download.docker.com/linux/ubuntu noble/stable amd64 docker-ce-cli amd64 5:27.1.2-1~ubuntu.24.04~noble [14.6 MB]
Get:8 https://download.docker.com/linux/ubuntu noble/stable amd64 docker-ce amd64 5:27.1.2-1~ubuntu.24.04~noble [25.2 MB]
Get:9 https://download.docker.com/linux/ubuntu noble/stable amd64 docker-ce-rootless-extras amd64 5:27.1.2-1~ubuntu.24.04~noble [9318 kB]
Get:10 https://download.docker.com/linux/ubuntu noble/stable amd64 docker-compose-plugin amd64 2.29.1-1~ubuntu.24.04~noble [12.5 MB]
Fetched 122 MB in 3s (44.9 MB/s)             
Selecting previously unselected package pigz.
(Reading database ... 67739 files and directories currently installed.)
Preparing to unpack .../0-pigz_2.8-1_amd64.deb ...
Unpacking pigz (2.8-1) ...
Selecting previously unselected package containerd.io.
Preparing to unpack .../1-containerd.io_1.7.20-1_amd64.deb ...
Unpacking containerd.io (1.7.20-1) ...
Selecting previously unselected package docker-buildx-plugin.
Preparing to unpack .../2-docker-buildx-plugin_0.16.2-1~ubuntu.24.04~noble_amd64.deb ...
Unpacking docker-buildx-plugin (0.16.2-1~ubuntu.24.04~noble) ...
Selecting previously unselected package docker-ce-cli.
Preparing to unpack .../3-docker-ce-cli_5%3a27.1.2-1~ubuntu.24.04~noble_amd64.deb ...
Unpacking docker-ce-cli (5:27.1.2-1~ubuntu.24.04~noble) ...
Selecting previously unselected package docker-ce.
Preparing to unpack .../4-docker-ce_5%3a27.1.2-1~ubuntu.24.04~noble_amd64.deb ...
Unpacking docker-ce (5:27.1.2-1~ubuntu.24.04~noble) ...
Selecting previously unselected package docker-ce-rootless-extras.
Preparing to unpack .../5-docker-ce-rootless-extras_5%3a27.1.2-1~ubuntu.24.04~noble_amd64.deb ...
Unpacking docker-ce-rootless-extras (5:27.1.2-1~ubuntu.24.04~noble) ...
Selecting previously unselected package docker-compose-plugin.
Preparing to unpack .../6-docker-compose-plugin_2.29.1-1~ubuntu.24.04~noble_amd64.deb ...
Unpacking docker-compose-plugin (2.29.1-1~ubuntu.24.04~noble) ...
Selecting previously unselected package libltdl7:amd64.
Preparing to unpack .../7-libltdl7_2.4.7-7build1_amd64.deb ...
Unpacking libltdl7:amd64 (2.4.7-7build1) ...
Selecting previously unselected package libslirp0:amd64.
Preparing to unpack .../8-libslirp0_4.7.0-1ubuntu3_amd64.deb ...
Unpacking libslirp0:amd64 (4.7.0-1ubuntu3) ...
Selecting previously unselected package slirp4netns.
Preparing to unpack .../9-slirp4netns_1.2.1-1build2_amd64.deb ...
Unpacking slirp4netns (1.2.1-1build2) ...
Setting up docker-buildx-plugin (0.16.2-1~ubuntu.24.04~noble) ...
Setting up containerd.io (1.7.20-1) ...
Created symlink /etc/systemd/system/multi-user.target.wants/containerd.service → /usr/lib/systemd/system/containerd.service.
Setting up docker-compose-plugin (2.29.1-1~ubuntu.24.04~noble) ...
Setting up libltdl7:amd64 (2.4.7-7build1) ...
Setting up docker-ce-cli (5:27.1.2-1~ubuntu.24.04~noble) ...
Setting up libslirp0:amd64 (4.7.0-1ubuntu3) ...
Setting up pigz (2.8-1) ...
Setting up docker-ce-rootless-extras (5:27.1.2-1~ubuntu.24.04~noble) ...
Setting up slirp4netns (1.2.1-1build2) ...
Setting up docker-ce (5:27.1.2-1~ubuntu.24.04~noble) ...
Created symlink /etc/systemd/system/multi-user.target.wants/docker.service → /usr/lib/systemd/system/docker.service.
Created symlink /etc/systemd/system/sockets.target.wants/docker.socket → /usr/lib/systemd/system/docker.socket.
Processing triggers for man-db (2.12.0-4build2) ...
Processing triggers for libc-bin (2.39-0ubuntu8.2) ...
Scanning processes...                                                                          
Scanning linux images...                                                                       

Running kernel seems to be up-to-date.

No services need to be restarted.

No containers need to be restarted.

No user sessions are running outdated binaries.

No VM guests are running outdated hypervisor (qemu) binaries on this host.
ubuntu@ip-172-31-21-226:~$ docker --version
Docker version 27.1.2, build d01f264
ubuntu@ip-172-31-21-226:~$ git --version
git version 2.43.0
ubuntu@ip-172-31-21-226:~$ git clone https://github.com/Hari0o/Gold_Site_Ecommerce.git
Cloning into 'Gold_Site_Ecommerce'...
remote: Enumerating objects: 336, done.
remote: Counting objects: 100% (90/90), done.
remote: Compressing objects: 100% (87/87), done.
remote: Total 336 (delta 55), reused 3 (delta 2), pack-reused 246 (from 1)
Receiving objects: 100% (336/336), 3.17 MiB | 31.54 MiB/s, done.
Resolving deltas: 100% (165/165), done.
ubuntu@ip-172-31-21-226:~$ ls
Gold_Site_Ecommerce
ubuntu@ip-172-31-21-226:~$ cd Gold_Site_Ecommerce
ubuntu@ip-172-31-21-226:~/Gold_Site_Ecommerce$ ls
Jenkinsfile  golddockerfile     package.json  src   test2023
README.md    package-lock.json  public        test
ubuntu@ip-172-31-21-226:~/Gold_Site_Ecommerce$ sudo vi golddockerfile
ubuntu@ip-172-31-21-226:~/Gold_Site_Ecommerce$ cat golddockerfile
###uncomment the multi stage build if you are practising before helm, comment the second docker file#########
FROM node:18 AS buildmachine
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build

FROM nginx:alpine
COPY --from=buildmachine /app/build /usr/share/nginx/html
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]


###the below docker file to be commented if you are practising before helm charts###
#FROM nginx:alpine
#COPY build /usr/share/nginx/html
#EXPOSE 80
#CMD ["nginx", "-g", "daemon off;"]
ubuntu@ip-172-31-21-226:~/Gold_Site_Ecommerce$ ls
Jenkinsfile  golddockerfile     package.json  src   test2023
README.md    package-lock.json  public        test
ubuntu@ip-172-31-21-226:~/Gold_Site_Ecommerce$ docker build -t react-nginx-docker-image . golddockerfile
ERROR: "docker buildx build" requires exactly 1 argument.
See 'docker buildx build --help'.

Usage:  docker buildx build [OPTIONS] PATH | URL | -

Start a build
ubuntu@ip-172-31-21-226:~/Gold_Site_Ecommerce$ sudo docker build -t react-docker-image -f golddockerfile .
[+] Building 157.9s (14/14) FINISHED                                                           docker:default
 => [internal] load build definition from golddockerfile                                                 0.1s
 => => transferring dockerfile: 569B                                                                     0.0s
 => [internal] load metadata for docker.io/library/nginx:alpine                                          0.4s
 => [internal] load metadata for docker.io/library/node:18                                               0.4s
 => [internal] load .dockerignore                                                                        0.0s
 => => transferring context: 41B                                                                         0.0s
 => [buildmachine 1/6] FROM docker.io/library/node:18@sha256:a7ff16657263663c1e92ba3060cdbba0e77329a0a  29.5s
 => => resolve docker.io/library/node:18@sha256:a7ff16657263663c1e92ba3060cdbba0e77329a0a4cb3c27bbbbe90  0.1s
 => => sha256:cc722b58258b36bc4d845113d609fea1e2957f12118fccd2ffaede90f4c5e0c5 2.49kB / 2.49kB           0.0s
 => => sha256:45f07525ada0df5b873def96c54f0fbf2f3b823658fb03cc19a57add84228fe0 6.55kB / 6.55kB           0.0s
 => => sha256:a7ff16657263663c1e92ba3060cdbba0e77329a0a4cb3c27bbbbe90c6e20bd87 6.41kB / 6.41kB           0.0s
 => => sha256:3cbbe86a28c2f6b3c3e0e8c6dcfba369e1ea656cf8daf69be789e0fe2105982b 24.05MB / 24.05MB         1.1s
 => => sha256:6ed93aa58a52c9abc1ee472f1ac74b73d3adcccc2c30744498fd5f14f3f5d22c 64.14MB / 64.14MB         2.0s
 => => sha256:903681d87777d28dc56866a07a2774c3fd5bf65fd734b24c9d0ecd9a13c9f636 49.55MB / 49.55MB         1.5s
 => => sha256:787c78da43830be6d988d34c7ee091f98d828516ce5478ca10a4933d655191bf 211.24MB / 211.24MB       7.2s
 => => extracting sha256:903681d87777d28dc56866a07a2774c3fd5bf65fd734b24c9d0ecd9a13c9f636                8.1s
 => => sha256:d20a60ac17d1dee38a8af42da4f856eb0de0cec97a9663da6ab3ef0486773b19 45.64MB / 45.64MB         3.8s
 => => sha256:2c399ba7c34f7a16e5ba741bce21c63738721cd8dc2779ca546ef8f8621f9f12 1.25MB / 1.25MB           2.2s
 => => sha256:a22bad3cc9773638be9a43d84179b40cccaf4e9486ad5e39af9d01457ae263d4 3.32kB / 3.32kB           2.0s
 => => sha256:b5179ca6334f7879a0be737b4340614628d71037568286f081f235e4bff64beb 445B / 445B               2.4s
 => => extracting sha256:3cbbe86a28c2f6b3c3e0e8c6dcfba369e1ea656cf8daf69be789e0fe2105982b                1.0s
 => => extracting sha256:6ed93aa58a52c9abc1ee472f1ac74b73d3adcccc2c30744498fd5f14f3f5d22c                3.6s
 => => extracting sha256:787c78da43830be6d988d34c7ee091f98d828516ce5478ca10a4933d655191bf               10.4s
 => => extracting sha256:a22bad3cc9773638be9a43d84179b40cccaf4e9486ad5e39af9d01457ae263d4                0.0s
 => => extracting sha256:d20a60ac17d1dee38a8af42da4f856eb0de0cec97a9663da6ab3ef0486773b19                3.0s
 => => extracting sha256:2c399ba7c34f7a16e5ba741bce21c63738721cd8dc2779ca546ef8f8621f9f12                0.1s
 => => extracting sha256:b5179ca6334f7879a0be737b4340614628d71037568286f081f235e4bff64beb                0.0s
 => [stage-1 1/2] FROM docker.io/library/nginx:alpine@sha256:208b70eefac13ee9be00e486f79c695b15cef861c6  9.0s
 => => resolve docker.io/library/nginx:alpine@sha256:208b70eefac13ee9be00e486f79c695b15cef861c680527171  0.1s
 => => sha256:208b70eefac13ee9be00e486f79c695b15cef861c680527171a27d253d834be9 9.07kB / 9.07kB           0.0s
 => => sha256:a377278b7dde3a8012b25d141d025a88dbf9f5ed13c5cdf21ee241e7ec07ab57 2.50kB / 2.50kB           0.0s
 => => sha256:1ae23480369fa4139f6dec668d7a5a941b56ea174e9cf75e09771988fe621c95 11.01kB / 11.01kB         0.0s
 => => sha256:46b060cc26202cf98e28414d790b5cabd67094bba50315a1ae2e9daf913fca4f 3.42MB / 3.42MB           2.7s
 => => extracting sha256:46b060cc26202cf98e28414d790b5cabd67094bba50315a1ae2e9daf913fca4f                1.0s
 => => sha256:21af147d2ad5905372d6284d8ac5031599e2983fa2cc9f8251f9130fdf6bce19 1.92MB / 1.92MB           3.3s
 => => sha256:b3ee43e51ca6c92d08e40eaf4d7dbc50444ba57c1a200c437a3c86e5a7631ba6 627B / 627B               3.8s
 => => sha256:542e3e75411d1223efe21092951a0b87b85cb4377accf8f360d635d23dea72a9 393B / 393B               4.2s
 => => sha256:b17a9d410da1886001947f5f826043292df395277cb23e17970f5b82a6b486ed 956B / 956B               3.9s
 => => sha256:2b2faad386dfd2da1e19aa6e0d91d428b849181de439c0b289f383816c812304 1.21kB / 1.21kB           4.3s
 => => extracting sha256:21af147d2ad5905372d6284d8ac5031599e2983fa2cc9f8251f9130fdf6bce19                0.6s
 => => sha256:a5e22afba545a92d46609059fe9fe2b90028b9f3fb7c78be28cb6d4ed9e53fd3 1.40kB / 1.40kB           4.4s
 => => sha256:fb923a41dc10df4d74119907e9112426c8e0e2ce3d6851c4e2dcfb7e0765861b 13.04MB / 13.04MB         5.2s
 => => extracting sha256:b3ee43e51ca6c92d08e40eaf4d7dbc50444ba57c1a200c437a3c86e5a7631ba6                0.0s
 => => extracting sha256:b17a9d410da1886001947f5f826043292df395277cb23e17970f5b82a6b486ed                0.0s
 => => extracting sha256:542e3e75411d1223efe21092951a0b87b85cb4377accf8f360d635d23dea72a9                0.0s
 => => extracting sha256:2b2faad386dfd2da1e19aa6e0d91d428b849181de439c0b289f383816c812304                0.0s
 => => extracting sha256:a5e22afba545a92d46609059fe9fe2b90028b9f3fb7c78be28cb6d4ed9e53fd3                0.0s
 => => extracting sha256:fb923a41dc10df4d74119907e9112426c8e0e2ce3d6851c4e2dcfb7e0765861b                1.7s
 => [internal] load build context                                                                        0.5s
 => => transferring context: 5.43MB                                                                      0.4s
 => [buildmachine 2/6] WORKDIR /app                                                                      0.6s
 => [buildmachine 3/6] COPY package*.json ./                                                             0.1s
 => [buildmachine 4/6] RUN npm install                                                                  58.2s
 => [buildmachine 5/6] COPY . .                                                                          0.5s
 => [buildmachine 6/6] RUN npm run build                                                                58.2s
 => [stage-1 2/2] COPY --from=buildmachine /app/build /usr/share/nginx/html                              0.2s
 => exporting to image                                                                                   0.2s
 => => exporting layers                                                                                  0.1s
 => => writing image sha256:2c44f8892fd34886ea9ddde3cad57efef576c974e0b18fa13a315588fafca192             0.0s
 => => naming to docker.io/library/react-docker-image                                                    0.0s
ubuntu@ip-172-31-21-226:~/Gold_Site_Ecommerce$ sudo docker images
REPOSITORY           TAG       IMAGE ID       CREATED          SIZE
react-docker-image   latest    2c44f8892fd3   36 seconds ago   45.9MB
ubuntu@ip-172-31-21-226:~/Gold_Site_Ecommerce$ sudo docker run --name react-nginx-deploy -p 80:80 -d react-docker-image
33837931464eaf36d8762e6414747ad95cec69f339aca108ca6ef4f0644c55a0
ubuntu@ip-172-31-21-226:~/Gold_Site_Ecommerce$ sudo docker ps
CONTAINER ID   IMAGE                COMMAND                  CREATED          STATUS          PORTS                               NAMES
33837931464e   react-docker-image   "/docker-entrypoint.…"   11 seconds ago   Up 10 seconds   0.0.0.0:80->80/tcp, :::80->80/tcp   react-nginx-deploy
ubuntu@ip-172-31-21-226:~/Gold_Site_Ecommerce$ sudo docker ps
CONTAINER ID   IMAGE                COMMAND                  CREATED         STATUS         PORTS                               NAMES
33837931464e   react-docker-image   "/docker-entrypoint.…"   3 minutes ago   Up 3 minutes   0.0.0.0:80->80/tcp, :::80->80/tcp   react-nginx-deploy
ubuntu@ip-172-31-21-226:~/Gold_Site_Ecommerce$ sudo docker stop 338
338
ubuntu@ip-172-31-21-226:~/Gold_Site_Ecommerce$ sudo docker start 338
338
ubuntu@ip-172-31-21-226:~/Gold_Site_Ecommerce$ sudo docker ps
CONTAINER ID   IMAGE                COMMAND                  CREATED         STATUS         PORTS                               NAMES
33837931464e   react-docker-image   "/docker-entrypoint.…"   4 minutes ago   Up 3 seconds   0.0.0.0:80->80/tcp, :::80->80/tcp   react-nginx-deploy
ubuntu@ip-172-31-21-226:~/Gold_Site_Ecommerce$ 
